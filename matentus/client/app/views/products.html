<!-- Products HTML | Has access to variables and functions in "scripts/controllers/products.js" -->

<div ng-controller="ProductsCtrl as ctrl">


  <!-- Categories button -->

  <button ng-click="ctrl.toggleCategories()" id="kategori" type="button" class="navbar-toggle col-xs-12 sort btn btn-default col-xs-12" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
  {{ ctrl.categoryHeader }} <span class="glyphicon glyphicon-menu-down"></span>
  </button>

  <!-- Categories dropdown -->

  <div ng-if="ctrl.shouldShowCategories" id="kat-div" class="kat-div col-xs-12">
    <div ng-repeat="category in ctrl.categories">
      <h2 ng-click="ctrl.toggleSubCategories(category.id)"> {{ category.title }} </h2>
      <div ng-if="ctrl.currentCategoryId === category.id" ng-repeat="subcategory in ctrl.subCategories" >
        <a href="#!/{{ category.title }}/{{ subcategory.title }}/{{ subcategory.id }}" ng-if="subcategory.category_id === category.id"> {{ subcategory.title }} </a>
      </div>
    </div>
  </div>
   

  <!-- Sort products by -->

  <div class="btn-group btn-group-justified" role="group" aria-label="...">
    <div class="btn-group" role="group">
        <button ng-click="" type="button" class="col-xs-12 sort btn btn-default active">
            Popul√§ra
        </button>
    </div>
    <div class="btn-group" role="group">
        <button type="button" class="col-xs-12 sort btn btn-default">
            Senaste
        </button>
    </div>
    <div class="btn-group" role="group">
        <button type="button" class="col-xs-12 sort btn btn-default">
            Vi Tipsar
        </button>
    </div>
  </div>

  <!-- Category and subcategory title -->

  <div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">
            <small></small>
        </h1>
    </div>
  </div>


  <!-- This is where all products are displayed -->

  <div class="row">
    <div ng-repeat="product in ctrl.products" class="col-lg-4 col-xs-12 portfolio-item" ng-if="!ctrl.currentSubCategoryId || ctrl.currentSubCategoryId == product.subcategory_id">
        <div class="img">
            <a href="#">
                <img class="img-responsive" src=" {{ product.image }}" alt="">
            </a>

            <div class="img-label">
                <h2 id="label-text"> {{ product.title }} </h2>
            </div>
            <div class="heart-icon">
                <a href="#" >
                    <span class="glyphicon glyphicon-heart heart"></span>
                </a>
            </div>
        </div>
    </div>
  </div>

</div>






